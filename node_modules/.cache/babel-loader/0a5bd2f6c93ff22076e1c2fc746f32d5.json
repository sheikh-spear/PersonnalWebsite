{"ast":null,"code":"import { AmbientLight, DirectionalLight, Vector2 } from 'three';\nimport ThreeGlobe from 'three-globe';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\nimport TWEEN from '@tweenjs/tween.js';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".scene-container .clickable {\\n  cursor: pointer;\\n}\";\nstyleInject(css_248z);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction linkKapsule(kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar _excluded = [\"rendererConfig\", \"waitForGlobeReady\"];\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector2: Vector2\n}; // Expose config from ThreeGlobe\n\nvar bindGlobe = linkKapsule('globe', ThreeGlobe);\nvar linkedGlobeProps = Object.assign.apply(Object, _toConsumableArray(['globeImageUrl', 'bumpImageUrl', 'showGlobe', 'showGraticules', 'showAtmosphere', 'atmosphereColor', 'atmosphereAltitude', 'globeMaterial', 'onGlobeReady', 'pointsData', 'pointLat', 'pointLng', 'pointColor', 'pointAltitude', 'pointRadius', 'pointResolution', 'pointsMerge', 'pointsTransitionDuration', 'arcsData', 'arcStartLat', 'arcStartLng', 'arcEndLat', 'arcEndLng', 'arcColor', 'arcAltitude', 'arcAltitudeAutoScale', 'arcStroke', 'arcCurveResolution', 'arcCircularResolution', 'arcDashLength', 'arcDashGap', 'arcDashInitialGap', 'arcDashAnimateTime', 'arcsTransitionDuration', 'polygonsData', 'polygonGeoJsonGeometry', 'polygonCapColor', 'polygonCapMaterial', 'polygonSideColor', 'polygonSideMaterial', 'polygonStrokeColor', 'polygonAltitude', 'polygonCapCurvatureResolution', 'polygonsTransitionDuration', 'pathsData', 'pathPoints', 'pathPointLat', 'pathPointLng', 'pathPointAlt', 'pathResolution', 'pathColor', 'pathStroke', 'pathDashLength', 'pathDashGap', 'pathDashInitialGap', 'pathDashAnimateTime', 'pathTransitionDuration', 'hexBinPointsData', 'hexBinPointLat', 'hexBinPointLng', 'hexBinPointWeight', 'hexBinResolution', 'hexMargin', 'hexTopCurvatureResolution', 'hexTopColor', 'hexSideColor', 'hexAltitude', 'hexBinMerge', 'hexTransitionDuration', 'hexPolygonsData', 'hexPolygonGeoJsonGeometry', 'hexPolygonColor', 'hexPolygonAltitude', 'hexPolygonResolution', 'hexPolygonMargin', 'hexPolygonCurvatureResolution', 'hexPolygonsTransitionDuration', 'tilesData', 'tileLat', 'tileLng', 'tileAltitude', 'tileWidth', 'tileHeight', 'tileUseGlobeProjection', 'tileMaterial', 'tileCurvatureResolution', 'tilesTransitionDuration', 'labelsData', 'labelLat', 'labelLng', 'labelAltitude', 'labelRotation', 'labelText', 'labelSize', 'labelTypeFace', 'labelColor', 'labelResolution', 'labelIncludeDot', 'labelDotRadius', 'labelDotOrientation', 'labelsTransitionDuration', 'customLayerData', 'customThreeObject', 'customThreeObjectUpdate'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkProp(p));\n})));\nvar linkedGlobeMethods = Object.assign.apply(Object, _toConsumableArray(['getCoords', 'toGeoCoords'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkMethod(p));\n}))); // Expose config from renderObjs\n\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'backgroundImageUrl', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n}))); //\n\nvar GLOBE_RADIUS = 100;\nvar globe = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    onZoom: {\n      triggerUpdate: false\n    },\n    onGlobeClick: {\n      triggerUpdate: false\n    },\n    onGlobeRightClick: {\n      triggerUpdate: false\n    },\n    pointLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPointClick: {\n      triggerUpdate: false\n    },\n    onPointRightClick: {\n      triggerUpdate: false\n    },\n    onPointHover: {\n      triggerUpdate: false\n    },\n    arcLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onArcClick: {\n      triggerUpdate: false\n    },\n    onArcRightClick: {\n      triggerUpdate: false\n    },\n    onArcHover: {\n      triggerUpdate: false\n    },\n    polygonLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPolygonClick: {\n      triggerUpdate: false\n    },\n    onPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onPolygonHover: {\n      triggerUpdate: false\n    },\n    pathLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPathClick: {\n      triggerUpdate: false\n    },\n    onPathRightClick: {\n      triggerUpdate: false\n    },\n    onPathHover: {\n      triggerUpdate: false\n    },\n    hexLabel: {\n      triggerUpdate: false\n    },\n    onHexClick: {\n      triggerUpdate: false\n    },\n    onHexRightClick: {\n      triggerUpdate: false\n    },\n    onHexHover: {\n      triggerUpdate: false\n    },\n    hexPolygonLabel: {\n      triggerUpdate: false\n    },\n    onHexPolygonClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonHover: {\n      triggerUpdate: false\n    },\n    tileLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onTileClick: {\n      triggerUpdate: false\n    },\n    onTileRightClick: {\n      triggerUpdate: false\n    },\n    onTileHover: {\n      triggerUpdate: false\n    },\n    labelLabel: {\n      triggerUpdate: false\n    },\n    onLabelClick: {\n      triggerUpdate: false\n    },\n    onLabelRightClick: {\n      triggerUpdate: false\n    },\n    onLabelHover: {\n      triggerUpdate: false\n    },\n    customLayerLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onCustomLayerClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerRightClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerHover: {\n      triggerUpdate: false\n    },\n    pointerEventsFilter: {\n      \"default\": function _default() {\n        return true;\n      },\n      triggerUpdate: false,\n      onChange: function onChange(filterFn, state) {\n        return state.renderObjs.hoverFilter(function (obj) {\n          return filterFn(obj, obj.__data);\n        });\n      }\n    },\n    lineHoverPrecision: {\n      \"default\": 0.2,\n      triggerUpdate: false,\n      onChange: function onChange(val, state) {\n        return state.renderObjs.lineHoverPrecision(val);\n      }\n    }\n  }, linkedGlobeProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      // Frame cycle\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    pointOfView: function pointOfView(state) {\n      var geoCoords = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var transitionDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var curGeoCoords = getGeoCoords(); // Getter\n\n      if (geoCoords.lat === undefined && geoCoords.lng === undefined && geoCoords.altitude === undefined) {\n        return curGeoCoords;\n      } else {\n        // Setter\n        var finalGeoCoords = Object.assign({}, curGeoCoords, geoCoords);\n        ['lat', 'lng', 'altitude'].forEach(function (p) {\n          return finalGeoCoords[p] = +finalGeoCoords[p];\n        }); // coerce coords to number\n\n        if (!transitionDuration) {\n          // no animation\n          setCameraPos(finalGeoCoords);\n        } else {\n          // Avoid rotating more than 180deg longitude\n          while (curGeoCoords.lng - finalGeoCoords.lng > 180) {\n            curGeoCoords.lng -= 360;\n          }\n\n          while (curGeoCoords.lng - finalGeoCoords.lng < -180) {\n            curGeoCoords.lng += 360;\n          }\n\n          new TWEEN.Tween(curGeoCoords).to(finalGeoCoords, transitionDuration).easing(TWEEN.Easing.Cubic.InOut).onUpdate(setCameraPos).start();\n        }\n\n        return this;\n      } //\n\n\n      function getGeoCoords() {\n        return state.globe.toGeoCoords(state.renderObjs.cameraPosition());\n      }\n\n      function setCameraPos(_ref5) {\n        var lat = _ref5.lat,\n            lng = _ref5.lng,\n            altitude = _ref5.altitude;\n        state.renderObjs.cameraPosition(state.globe.getCoords(lat, lng, altitude));\n      }\n    },\n    getScreenCoords: function getScreenCoords(state) {\n      var _state$globe;\n\n      for (var _len = arguments.length, geoCoords = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        geoCoords[_key - 1] = arguments[_key];\n      }\n\n      var cartesianCoords = (_state$globe = state.globe).getCoords.apply(_state$globe, geoCoords);\n\n      return state.renderObjs.getScreenCoords(cartesianCoords.x, cartesianCoords.y, cartesianCoords.z);\n    },\n    toGlobeCoords: function toGlobeCoords(state, x, y) {\n      var globeIntersects = state.renderObjs.intersectingObjects(x, y).find(function (d) {\n        return d.object.__globeObjType === 'globe';\n      });\n      if (!globeIntersects) return null; // coords outside globe\n\n      var _state$globe$toGeoCoo = state.globe.toGeoCoords(globeIntersects.point),\n          lat = _state$globe$toGeoCoo.lat,\n          lng = _state$globe$toGeoCoo.lng;\n\n      return {\n        lat: lat,\n        lng: lng\n      };\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.pointsData([]);\n      this.arcsData([]);\n      this.polygonsData([]);\n      this.pathsData([]);\n      this.hexBinPointsData([]);\n      this.hexPolygonsData([]);\n      this.tilesData([]);\n      this.labelsData([]);\n      this.customLayerData([]);\n    }\n  }, linkedGlobeMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref6) {\n    var rendererConfig = _ref6.rendererConfig,\n        _ref6$waitForGlobeRea = _ref6.waitForGlobeReady,\n        waitForGlobeReady = _ref6$waitForGlobeRea === void 0 ? true : _ref6$waitForGlobeRea,\n        globeInitConfig = _objectWithoutProperties(_ref6, _excluded);\n\n    return {\n      globe: new ThreeGlobe(_objectSpread2({\n        waitForGlobeReady: waitForGlobeReady\n      }, globeInitConfig)),\n      renderObjs: ThreeRenderObjects({\n        controlType: 'orbit',\n        rendererConfig: rendererConfig,\n        waitForLoadComplete: waitForGlobeReady\n      }).skyRadius(GLOBE_RADIUS * 500).showNavInfo(false)\n    };\n  },\n  init: function init(domNode, state) {\n    var _this = this; // Wipe DOM\n\n\n    domNode.innerHTML = ''; // Add relative container\n\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative'; // Add renderObjs\n\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode); // inject renderer size on three-globe\n\n    state.globe.rendererSize(state.renderObjs.renderer().getSize(new three.Vector2())); // set initial distance\n\n    this.pointOfView({\n      altitude: 2.5\n    }); // calibrate orbit controls\n\n    var controls = state.renderObjs.controls();\n    controls.minDistance = GLOBE_RADIUS * 1.01; // just above the surface\n\n    setTimeout(function () {\n      return controls.maxDistance = GLOBE_RADIUS * 100;\n    }); // apply async  after renderObjs sets maxDistance\n\n    controls.enablePan = false;\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.1;\n    controls.rotateSpeed = 0.3;\n    controls.zoomSpeed = 0.3;\n    controls.addEventListener('change', function () {\n      // adjust controls speed based on altitude\n      var pov = _this.pointOfView();\n\n      controls.rotateSpeed = pov.altitude * 0.2; // Math.pow(pov.altitude + 1, 2) * 0.025;\n\n      controls.zoomSpeed = (pov.altitude + 1) * 0.1; // Math.sqrt(pov.altitude) * 0.2;\n\n      state.onZoom && state.onZoom(pov);\n    }); // config renderObjs\n\n    var getGlobeObj = function getGlobeObj(object) {\n      var obj = object; // recurse up object chain until finding the globe object\n\n      while (obj && !obj.hasOwnProperty('__globeObjType')) {\n        obj = obj.parent;\n      }\n\n      return obj;\n    };\n\n    var dataAccessors = {\n      point: function point(d) {\n        return d;\n      },\n      arc: function arc(d) {\n        return d;\n      },\n      polygon: function polygon(d) {\n        return d.data;\n      },\n      path: function path(d) {\n        return d;\n      },\n      hexbin: function hexbin(d) {\n        return d;\n      },\n      hexPolygon: function hexPolygon(d) {\n        return d;\n      },\n      tile: function tile(d) {\n        return d;\n      },\n      label: function label(d) {\n        return d;\n      },\n      custom: function custom(d) {\n        return d;\n      }\n    };\n    state.renderObjs.objects([// Populate scene\n    new three.AmbientLight(0xbbbbbb), new three.DirectionalLight(0xffffff, 0.6), state.globe]).hoverOrderComparator(function (a, b) {\n      var aObj = getGlobeObj(a);\n      var bObj = getGlobeObj(b); // de-prioritize background / non-globe objects\n\n      var isBackground = function isBackground(o) {\n        return !o;\n      }; // || o.__globeObjType === 'globe' || o.__globeObjType === 'atmosphere';\n\n\n      return isBackground(aObj) - isBackground(bObj);\n    }).tooltipContent(function (obj) {\n      var objAccessors = {\n        point: state.pointLabel,\n        arc: state.arcLabel,\n        polygon: state.polygonLabel,\n        path: state.pathLabel,\n        hexbin: state.hexLabel,\n        hexPolygon: state.hexPolygonLabel,\n        tile: state.tileLabel,\n        label: state.labelLabel,\n        custom: state.customLayerLabel\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj && globeObj.__globeObjType;\n      return globeObj && objType && objAccessors.hasOwnProperty(objType) && dataAccessors.hasOwnProperty(objType) ? accessorFn(objAccessors[objType])(dataAccessors[objType](globeObj.__data)) || '' : '';\n    }).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObjFns = {\n        point: state.onPointHover,\n        arc: state.onArcHover,\n        polygon: state.onPolygonHover,\n        path: state.onPathHover,\n        hexbin: state.onHexHover,\n        hexPolygon: state.onHexPolygonHover,\n        tile: state.onTileHover,\n        label: state.onLabelHover,\n        custom: state.onCustomLayerHover\n      };\n      var clickObjFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        label: state.onLabelClick,\n        custom: state.onCustomLayerClick\n      };\n      var hoverObj = getGlobeObj(obj); // ignore non-recognised obj types\n\n      hoverObj && !hoverObjFns.hasOwnProperty(hoverObj.__globeObjType) && (hoverObj = null);\n\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__globeObjType : null;\n        var prevObjData = state.hoverObj ? dataAccessors[prevObjType](state.hoverObj.__data) : null;\n        var objType = hoverObj ? hoverObj.__globeObjType : null;\n        var objData = hoverObj ? dataAccessors[objType](hoverObj.__data) : null;\n\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          hoverObjFns[prevObjType] && hoverObjFns[prevObjType](null, prevObjData);\n        }\n\n        if (objType) {\n          // Hover in\n          hoverObjFns[objType] && hoverObjFns[objType](objData, prevObjType === objType ? prevObjData : null);\n        } // set pointer if hovered object is clickable\n\n\n        state.renderObjs.renderer().domElement.classList[objType && clickObjFns[objType] ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).onClick(function (obj, ev, point) {\n      if (!obj) return; // ignore background clicks\n      // Handle click events on objects\n\n      var objFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        label: state.onLabelClick,\n        custom: state.onCustomLayerClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        if (objType === 'globe') {\n          // include click coords in { lat, lng }\n          var _this$toGeoCoords = _this.toGeoCoords(point),\n              lat = _this$toGeoCoords.lat,\n              lng = _this$toGeoCoords.lng;\n\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        }\n\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data));\n        objFns[objType].apply(objFns, args);\n      }\n    }).onRightClick(function (obj, ev, point) {\n      if (!obj) return; // ignore background clicks\n      // Handle right-click events\n\n      var objFns = {\n        globe: state.onGlobeRightClick,\n        point: state.onPointRightClick,\n        arc: state.onArcRightClick,\n        polygon: state.onPolygonRightClick,\n        path: state.onPathRightClick,\n        hexbin: state.onHexRightClick,\n        hexPolygon: state.onHexPolygonRightClick,\n        tile: state.onTileRightClick,\n        label: state.onLabelRightClick,\n        custom: state.onCustomLayerRightClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        if (objType === 'globe') {\n          // include click coords in { lat, lng }\n          var _this$toGeoCoords2 = _this.toGeoCoords(point),\n              lat = _this$toGeoCoords2.lat,\n              lng = _this$toGeoCoords2.lng;\n\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        }\n\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data));\n        objFns[objType].apply(objFns, args);\n      }\n    }); //\n    // Kick-off renderer\n\n    this._animationCycle();\n  }\n});\nexport { globe as default };","map":{"version":3,"sources":["/home/sheikh-spear/Cybreach/Portfolio/node_modules/globe.gl/dist/globe.gl.module.js"],"names":["AmbientLight","DirectionalLight","Vector2","ThreeGlobe","ThreeRenderObjects","accessorFn","Kapsule","TWEEN","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","Symbol","iterator","from","o","minLen","n","toString","slice","constructor","name","test","len","arr2","TypeError","linkKapsule","kapsulePropName","kapsuleType","dummyK","linkProp","prop","onChange","v","state","triggerUpdate","linkMethod","method","kapsuleInstance","_len","args","_key","returnVal","_excluded","three","window","THREE","bindGlobe","linkedGlobeProps","assign","map","p","linkedGlobeMethods","bindRenderObjs","linkedRenderObjsProps","linkedRenderObjsMethods","GLOBE_RADIUS","globe","props","onZoom","onGlobeClick","onGlobeRightClick","pointLabel","onPointClick","onPointRightClick","onPointHover","arcLabel","onArcClick","onArcRightClick","onArcHover","polygonLabel","onPolygonClick","onPolygonRightClick","onPolygonHover","pathLabel","onPathClick","onPathRightClick","onPathHover","hexLabel","onHexClick","onHexRightClick","onHexHover","hexPolygonLabel","onHexPolygonClick","onHexPolygonRightClick","onHexPolygonHover","tileLabel","onTileClick","onTileRightClick","onTileHover","labelLabel","onLabelClick","onLabelRightClick","onLabelHover","customLayerLabel","onCustomLayerClick","onCustomLayerRightClick","onCustomLayerHover","pointerEventsFilter","_default","filterFn","renderObjs","hoverFilter","__data","lineHoverPrecision","val","methods","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","tick","requestAnimationFrame","pointOfView","geoCoords","undefined","transitionDuration","curGeoCoords","getGeoCoords","lat","lng","altitude","finalGeoCoords","setCameraPos","Tween","to","easing","Easing","Cubic","InOut","onUpdate","start","toGeoCoords","cameraPosition","_ref5","getCoords","getScreenCoords","_state$globe","cartesianCoords","x","y","z","toGlobeCoords","globeIntersects","intersectingObjects","find","d","__globeObjType","_state$globe$toGeoCoo","point","scene","camera","renderer","controls","_destructor","pointsData","arcsData","polygonsData","pathsData","hexBinPointsData","hexPolygonsData","tilesData","labelsData","customLayerData","stateInit","_ref6","rendererConfig","_ref6$waitForGlobeRea","waitForGlobeReady","globeInitConfig","controlType","waitForLoadComplete","skyRadius","showNavInfo","init","domNode","_this","innerHTML","container","position","roDomNode","rendererSize","getSize","minDistance","setTimeout","maxDistance","enablePan","enableDamping","dampingFactor","rotateSpeed","zoomSpeed","addEventListener","pov","getGlobeObj","hasOwnProperty","parent","dataAccessors","arc","polygon","data","path","hexbin","hexPolygon","tile","label","custom","objects","hoverOrderComparator","a","b","aObj","bObj","isBackground","tooltipContent","objAccessors","globeObj","objType","onHover","hoverObjFns","clickObjFns","hoverObj","prevObjType","prevObjData","objData","domElement","classList","onClick","ev","objFns","_this$toGeoCoords","unshift","onRightClick","_this$toGeoCoords2","default"],"mappings":"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","sourcesContent":["import { AmbientLight, DirectionalLight, Vector2 } from 'three';\nimport ThreeGlobe from 'three-globe';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\nimport TWEEN from '@tweenjs/tween.js';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".scene-container .clickable {\\n  cursor: pointer;\\n}\";\nstyleInject(css_248z);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction linkKapsule (kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar _excluded = [\"rendererConfig\", \"waitForGlobeReady\"];\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector2: Vector2\n};\n// Expose config from ThreeGlobe\n\nvar bindGlobe = linkKapsule('globe', ThreeGlobe);\nvar linkedGlobeProps = Object.assign.apply(Object, _toConsumableArray(['globeImageUrl', 'bumpImageUrl', 'showGlobe', 'showGraticules', 'showAtmosphere', 'atmosphereColor', 'atmosphereAltitude', 'globeMaterial', 'onGlobeReady', 'pointsData', 'pointLat', 'pointLng', 'pointColor', 'pointAltitude', 'pointRadius', 'pointResolution', 'pointsMerge', 'pointsTransitionDuration', 'arcsData', 'arcStartLat', 'arcStartLng', 'arcEndLat', 'arcEndLng', 'arcColor', 'arcAltitude', 'arcAltitudeAutoScale', 'arcStroke', 'arcCurveResolution', 'arcCircularResolution', 'arcDashLength', 'arcDashGap', 'arcDashInitialGap', 'arcDashAnimateTime', 'arcsTransitionDuration', 'polygonsData', 'polygonGeoJsonGeometry', 'polygonCapColor', 'polygonCapMaterial', 'polygonSideColor', 'polygonSideMaterial', 'polygonStrokeColor', 'polygonAltitude', 'polygonCapCurvatureResolution', 'polygonsTransitionDuration', 'pathsData', 'pathPoints', 'pathPointLat', 'pathPointLng', 'pathPointAlt', 'pathResolution', 'pathColor', 'pathStroke', 'pathDashLength', 'pathDashGap', 'pathDashInitialGap', 'pathDashAnimateTime', 'pathTransitionDuration', 'hexBinPointsData', 'hexBinPointLat', 'hexBinPointLng', 'hexBinPointWeight', 'hexBinResolution', 'hexMargin', 'hexTopCurvatureResolution', 'hexTopColor', 'hexSideColor', 'hexAltitude', 'hexBinMerge', 'hexTransitionDuration', 'hexPolygonsData', 'hexPolygonGeoJsonGeometry', 'hexPolygonColor', 'hexPolygonAltitude', 'hexPolygonResolution', 'hexPolygonMargin', 'hexPolygonCurvatureResolution', 'hexPolygonsTransitionDuration', 'tilesData', 'tileLat', 'tileLng', 'tileAltitude', 'tileWidth', 'tileHeight', 'tileUseGlobeProjection', 'tileMaterial', 'tileCurvatureResolution', 'tilesTransitionDuration', 'labelsData', 'labelLat', 'labelLng', 'labelAltitude', 'labelRotation', 'labelText', 'labelSize', 'labelTypeFace', 'labelColor', 'labelResolution', 'labelIncludeDot', 'labelDotRadius', 'labelDotOrientation', 'labelsTransitionDuration', 'customLayerData', 'customThreeObject', 'customThreeObjectUpdate'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkProp(p));\n})));\nvar linkedGlobeMethods = Object.assign.apply(Object, _toConsumableArray(['getCoords', 'toGeoCoords'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkMethod(p));\n}))); // Expose config from renderObjs\n\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'backgroundImageUrl', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n}))); //\n\nvar GLOBE_RADIUS = 100;\nvar globe = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    onZoom: {\n      triggerUpdate: false\n    },\n    onGlobeClick: {\n      triggerUpdate: false\n    },\n    onGlobeRightClick: {\n      triggerUpdate: false\n    },\n    pointLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPointClick: {\n      triggerUpdate: false\n    },\n    onPointRightClick: {\n      triggerUpdate: false\n    },\n    onPointHover: {\n      triggerUpdate: false\n    },\n    arcLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onArcClick: {\n      triggerUpdate: false\n    },\n    onArcRightClick: {\n      triggerUpdate: false\n    },\n    onArcHover: {\n      triggerUpdate: false\n    },\n    polygonLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPolygonClick: {\n      triggerUpdate: false\n    },\n    onPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onPolygonHover: {\n      triggerUpdate: false\n    },\n    pathLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPathClick: {\n      triggerUpdate: false\n    },\n    onPathRightClick: {\n      triggerUpdate: false\n    },\n    onPathHover: {\n      triggerUpdate: false\n    },\n    hexLabel: {\n      triggerUpdate: false\n    },\n    onHexClick: {\n      triggerUpdate: false\n    },\n    onHexRightClick: {\n      triggerUpdate: false\n    },\n    onHexHover: {\n      triggerUpdate: false\n    },\n    hexPolygonLabel: {\n      triggerUpdate: false\n    },\n    onHexPolygonClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonHover: {\n      triggerUpdate: false\n    },\n    tileLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onTileClick: {\n      triggerUpdate: false\n    },\n    onTileRightClick: {\n      triggerUpdate: false\n    },\n    onTileHover: {\n      triggerUpdate: false\n    },\n    labelLabel: {\n      triggerUpdate: false\n    },\n    onLabelClick: {\n      triggerUpdate: false\n    },\n    onLabelRightClick: {\n      triggerUpdate: false\n    },\n    onLabelHover: {\n      triggerUpdate: false\n    },\n    customLayerLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onCustomLayerClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerRightClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerHover: {\n      triggerUpdate: false\n    },\n    pointerEventsFilter: {\n      \"default\": function _default() {\n        return true;\n      },\n      triggerUpdate: false,\n      onChange: function onChange(filterFn, state) {\n        return state.renderObjs.hoverFilter(function (obj) {\n          return filterFn(obj, obj.__data);\n        });\n      }\n    },\n    lineHoverPrecision: {\n      \"default\": 0.2,\n      triggerUpdate: false,\n      onChange: function onChange(val, state) {\n        return state.renderObjs.lineHoverPrecision(val);\n      }\n    }\n  }, linkedGlobeProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      // Frame cycle\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    pointOfView: function pointOfView(state) {\n      var geoCoords = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var transitionDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var curGeoCoords = getGeoCoords(); // Getter\n\n      if (geoCoords.lat === undefined && geoCoords.lng === undefined && geoCoords.altitude === undefined) {\n        return curGeoCoords;\n      } else {\n        // Setter\n        var finalGeoCoords = Object.assign({}, curGeoCoords, geoCoords);\n        ['lat', 'lng', 'altitude'].forEach(function (p) {\n          return finalGeoCoords[p] = +finalGeoCoords[p];\n        }); // coerce coords to number\n\n        if (!transitionDuration) {\n          // no animation\n          setCameraPos(finalGeoCoords);\n        } else {\n          // Avoid rotating more than 180deg longitude\n          while (curGeoCoords.lng - finalGeoCoords.lng > 180) {\n            curGeoCoords.lng -= 360;\n          }\n\n          while (curGeoCoords.lng - finalGeoCoords.lng < -180) {\n            curGeoCoords.lng += 360;\n          }\n\n          new TWEEN.Tween(curGeoCoords).to(finalGeoCoords, transitionDuration).easing(TWEEN.Easing.Cubic.InOut).onUpdate(setCameraPos).start();\n        }\n\n        return this;\n      } //\n\n\n      function getGeoCoords() {\n        return state.globe.toGeoCoords(state.renderObjs.cameraPosition());\n      }\n\n      function setCameraPos(_ref5) {\n        var lat = _ref5.lat,\n            lng = _ref5.lng,\n            altitude = _ref5.altitude;\n        state.renderObjs.cameraPosition(state.globe.getCoords(lat, lng, altitude));\n      }\n    },\n    getScreenCoords: function getScreenCoords(state) {\n      var _state$globe;\n\n      for (var _len = arguments.length, geoCoords = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        geoCoords[_key - 1] = arguments[_key];\n      }\n\n      var cartesianCoords = (_state$globe = state.globe).getCoords.apply(_state$globe, geoCoords);\n\n      return state.renderObjs.getScreenCoords(cartesianCoords.x, cartesianCoords.y, cartesianCoords.z);\n    },\n    toGlobeCoords: function toGlobeCoords(state, x, y) {\n      var globeIntersects = state.renderObjs.intersectingObjects(x, y).find(function (d) {\n        return d.object.__globeObjType === 'globe';\n      });\n      if (!globeIntersects) return null; // coords outside globe\n\n      var _state$globe$toGeoCoo = state.globe.toGeoCoords(globeIntersects.point),\n          lat = _state$globe$toGeoCoo.lat,\n          lng = _state$globe$toGeoCoo.lng;\n\n      return {\n        lat: lat,\n        lng: lng\n      };\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.pointsData([]);\n      this.arcsData([]);\n      this.polygonsData([]);\n      this.pathsData([]);\n      this.hexBinPointsData([]);\n      this.hexPolygonsData([]);\n      this.tilesData([]);\n      this.labelsData([]);\n      this.customLayerData([]);\n    }\n  }, linkedGlobeMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref6) {\n    var rendererConfig = _ref6.rendererConfig,\n        _ref6$waitForGlobeRea = _ref6.waitForGlobeReady,\n        waitForGlobeReady = _ref6$waitForGlobeRea === void 0 ? true : _ref6$waitForGlobeRea,\n        globeInitConfig = _objectWithoutProperties(_ref6, _excluded);\n\n    return {\n      globe: new ThreeGlobe(_objectSpread2({\n        waitForGlobeReady: waitForGlobeReady\n      }, globeInitConfig)),\n      renderObjs: ThreeRenderObjects({\n        controlType: 'orbit',\n        rendererConfig: rendererConfig,\n        waitForLoadComplete: waitForGlobeReady\n      }).skyRadius(GLOBE_RADIUS * 500).showNavInfo(false)\n    };\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n\n    // Wipe DOM\n    domNode.innerHTML = ''; // Add relative container\n\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative'; // Add renderObjs\n\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode); // inject renderer size on three-globe\n\n    state.globe.rendererSize(state.renderObjs.renderer().getSize(new three.Vector2())); // set initial distance\n\n    this.pointOfView({\n      altitude: 2.5\n    }); // calibrate orbit controls\n\n    var controls = state.renderObjs.controls();\n    controls.minDistance = GLOBE_RADIUS * 1.01; // just above the surface\n\n    setTimeout(function () {\n      return controls.maxDistance = GLOBE_RADIUS * 100;\n    }); // apply async  after renderObjs sets maxDistance\n\n    controls.enablePan = false;\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.1;\n    controls.rotateSpeed = 0.3;\n    controls.zoomSpeed = 0.3;\n    controls.addEventListener('change', function () {\n      // adjust controls speed based on altitude\n      var pov = _this.pointOfView();\n\n      controls.rotateSpeed = pov.altitude * 0.2; // Math.pow(pov.altitude + 1, 2) * 0.025;\n\n      controls.zoomSpeed = (pov.altitude + 1) * 0.1; // Math.sqrt(pov.altitude) * 0.2;\n\n      state.onZoom && state.onZoom(pov);\n    }); // config renderObjs\n\n    var getGlobeObj = function getGlobeObj(object) {\n      var obj = object; // recurse up object chain until finding the globe object\n\n      while (obj && !obj.hasOwnProperty('__globeObjType')) {\n        obj = obj.parent;\n      }\n\n      return obj;\n    };\n\n    var dataAccessors = {\n      point: function point(d) {\n        return d;\n      },\n      arc: function arc(d) {\n        return d;\n      },\n      polygon: function polygon(d) {\n        return d.data;\n      },\n      path: function path(d) {\n        return d;\n      },\n      hexbin: function hexbin(d) {\n        return d;\n      },\n      hexPolygon: function hexPolygon(d) {\n        return d;\n      },\n      tile: function tile(d) {\n        return d;\n      },\n      label: function label(d) {\n        return d;\n      },\n      custom: function custom(d) {\n        return d;\n      }\n    };\n    state.renderObjs.objects([// Populate scene\n    new three.AmbientLight(0xbbbbbb), new three.DirectionalLight(0xffffff, 0.6), state.globe]).hoverOrderComparator(function (a, b) {\n      var aObj = getGlobeObj(a);\n      var bObj = getGlobeObj(b); // de-prioritize background / non-globe objects\n\n      var isBackground = function isBackground(o) {\n        return !o;\n      }; // || o.__globeObjType === 'globe' || o.__globeObjType === 'atmosphere';\n\n\n      return isBackground(aObj) - isBackground(bObj);\n    }).tooltipContent(function (obj) {\n      var objAccessors = {\n        point: state.pointLabel,\n        arc: state.arcLabel,\n        polygon: state.polygonLabel,\n        path: state.pathLabel,\n        hexbin: state.hexLabel,\n        hexPolygon: state.hexPolygonLabel,\n        tile: state.tileLabel,\n        label: state.labelLabel,\n        custom: state.customLayerLabel\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj && globeObj.__globeObjType;\n      return globeObj && objType && objAccessors.hasOwnProperty(objType) && dataAccessors.hasOwnProperty(objType) ? accessorFn(objAccessors[objType])(dataAccessors[objType](globeObj.__data)) || '' : '';\n    }).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObjFns = {\n        point: state.onPointHover,\n        arc: state.onArcHover,\n        polygon: state.onPolygonHover,\n        path: state.onPathHover,\n        hexbin: state.onHexHover,\n        hexPolygon: state.onHexPolygonHover,\n        tile: state.onTileHover,\n        label: state.onLabelHover,\n        custom: state.onCustomLayerHover\n      };\n      var clickObjFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        label: state.onLabelClick,\n        custom: state.onCustomLayerClick\n      };\n      var hoverObj = getGlobeObj(obj); // ignore non-recognised obj types\n\n      hoverObj && !hoverObjFns.hasOwnProperty(hoverObj.__globeObjType) && (hoverObj = null);\n\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__globeObjType : null;\n        var prevObjData = state.hoverObj ? dataAccessors[prevObjType](state.hoverObj.__data) : null;\n        var objType = hoverObj ? hoverObj.__globeObjType : null;\n        var objData = hoverObj ? dataAccessors[objType](hoverObj.__data) : null;\n\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          hoverObjFns[prevObjType] && hoverObjFns[prevObjType](null, prevObjData);\n        }\n\n        if (objType) {\n          // Hover in\n          hoverObjFns[objType] && hoverObjFns[objType](objData, prevObjType === objType ? prevObjData : null);\n        } // set pointer if hovered object is clickable\n\n\n        state.renderObjs.renderer().domElement.classList[objType && clickObjFns[objType] ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).onClick(function (obj, ev, point) {\n      if (!obj) return; // ignore background clicks\n      // Handle click events on objects\n\n      var objFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        label: state.onLabelClick,\n        custom: state.onCustomLayerClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        if (objType === 'globe') {\n          // include click coords in { lat, lng }\n          var _this$toGeoCoords = _this.toGeoCoords(point),\n              lat = _this$toGeoCoords.lat,\n              lng = _this$toGeoCoords.lng;\n\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        }\n\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data));\n        objFns[objType].apply(objFns, args);\n      }\n    }).onRightClick(function (obj, ev, point) {\n      if (!obj) return; // ignore background clicks\n      // Handle right-click events\n\n      var objFns = {\n        globe: state.onGlobeRightClick,\n        point: state.onPointRightClick,\n        arc: state.onArcRightClick,\n        polygon: state.onPolygonRightClick,\n        path: state.onPathRightClick,\n        hexbin: state.onHexRightClick,\n        hexPolygon: state.onHexPolygonRightClick,\n        tile: state.onTileRightClick,\n        label: state.onLabelRightClick,\n        custom: state.onCustomLayerRightClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        if (objType === 'globe') {\n          // include click coords in { lat, lng }\n          var _this$toGeoCoords2 = _this.toGeoCoords(point),\n              lat = _this$toGeoCoords2.lat,\n              lng = _this$toGeoCoords2.lng;\n\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        }\n\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data));\n        objFns[objType].apply(objFns, args);\n      }\n    }); //\n    // Kick-off renderer\n\n    this._animationCycle();\n  }\n});\n\nexport { globe as default };\n"]},"metadata":{},"sourceType":"module"}